<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR UI Animado</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>
        
        <!-- Marcador que mostrará el panel de UI -->
        <a-marker type="pattern" url="assets/pattern-marker.patt" id="marker">
            
            <!-- Panel de UI con animación -->
            <a-plane id="popup" position="0 0 0" rotation="-90 0 0" width="1.5" height="1" material="color: white; opacity: 0.9"
                     rotation="0 0 0" scale="0 0 0">
                
                <!-- Título -->
                <a-text value="Raíces Hedonistas" position="0 0.35 0.01" align="center" color="black" width="1.4"></a-text>

                <!-- Cuerpo del texto -->
                <a-text value="El paso clásico 'Lorem ipsum dolor sit amet…'\n\nSe atribuye a una remixación del texto de Cicerón, de 45 aC." 
                        position="0 0 0.01" align="center" color="black" width="1.4" wrap-count="40"></a-text>
            </a-plane>

        </a-marker>

        <a-entity camera></a-entity>

    </a-scene>

    <script>
        // Obtiene el marcador y el panel
        let marker = document.querySelector("#marker");
        let popup = document.querySelector("#popup");

        // Evento cuando se detecta el marcador
        marker.addEventListener("markerFound", () => {
            popup.setAttribute("animation", "property: scale; to: 1 1 1; dur: 500; easing: easeOutElastic");
        });

        // Evento cuando se pierde el marcador
        marker.addEventListener("markerLost", () => {
            popup.setAttribute("animation", "property: scale; to: 0 0 0; dur: 300; easing: easeInBack");
        });
    </script>

</body>
</html>
